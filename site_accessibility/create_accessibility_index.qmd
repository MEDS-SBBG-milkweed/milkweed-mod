---
title: "Creating the final accessibility index"
---

```{r}
library(terra)
# source rescale_raster function
source("../scripts/rescale_raster.R")
```


# Creating the final index by multiplying together all the individual, rescaled layers

## Read in layers
```{r}
canopy <- rast(here("~/../../capstone/milkweedmod/outputs/site_accessibility_outputs/canopy_rescaled.tif"))
slope <- rast(here("~/../../capstone/milkweedmod/outputs/site_accessibility_outputs/slope_rescaled.tif"))
trails <- rast(here("~/../../capstone/milkweedmod/outputs/site_accessibility_outputs/trails_rescaled.tif"))
roads <- rast(here("~/../../capstone/milkweedmod/outputs/site_accessibility_outputs/roads_rescaled.tif"))
ownership <- rast(here("~/../../capstone/milkweedmod/outputs/site_accessibility_outputs/ownership_rescaled.tif"))
```


```{r}
access_index <- canopy * slope * ownership * trails * roads
plot(access_index)
```

# Rescale accessibility index for a final index from 0 - 1

```{r}
access_index_final <- rescale_raster(access_index)

plot(access_index_final)
```
# Save final accessibility index
```{r}
# writeRaster(access_index_final, here("~/../../capstone/milkweedmod/outputs/site_accessibility_outputs/access_index_final.tif"), overwrite = TRUE)
```

